(()=>{var c=(e,t="generic",r=void 0,...a)=>{let s=e.querySelector("[data-errors]"),o=s.content.querySelector(`[data-error="${t}"]`);o||(o=s.content.querySelector("[data-error='generic']"));let q=o.cloneNode(!0);e.appendChild(q),e.setAttribute("aria-invalid","true"),r&&console.warn(r,...a)},p=e=>{e.querySelectorAll("[data-error]").forEach(r=>{r.remove()}),e.setAttribute("aria-invalid","false")};var m={parse_float:e=>parseFloat(e),parse_boolean:e=>["true","1","on","yes"].includes(e.toLowerCase()),to_currency:e=>new Intl.NumberFormat(void 0,{currency:"EUR",style:"currency"}).format(e),to_currency_unsigned:e=>new Intl.NumberFormat(void 0,{currency:"EUR",style:"currency",currencyDisplay:"code"}).format(e).replace("EUR","").trim()},i=(e,t)=>t.reduce((r,a)=>m[a]?m[a](r):r,e);var u=(e,t)=>{let r=document.querySelector(`[data-value-target="${e}"]`);if(r)if(r.hasAttribute("data-value-target-attribute")){let a=r.getAttribute("data-value-target-attribute");r.setAttribute(a,t);return}else r.innerHTML=t},n=(e,t,r=[])=>{let a="";return e.hasAttribute(t)&&(a=e.getAttribute(t)),e.dataset[t]&&(a=e.dataset[t]),i(a,r)},h=(e,t=[])=>{let r="";return e.tagName==="INPUT"&&(r=e.value),i(r,t)},d=(e,t)=>{t.forEach(r=>{e.addEventListener(r.type,r.handler)})},l=(e,t=!0)=>{t?(e.setAttribute("disabled",!0),e.classList.add("loading"),e.setAttribute("aria-busy","true")):(e.removeAttribute("disabled"),e.classList.remove("loading"),e.setAttribute("aria-busy","false"))};var y=(e,t)=>Math.ceil(e*(1+t/100)),b=(e,t)=>Math.ceil(e/t);var g=async(e,t)=>(await fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:e,quantity:t}]})})).json();var v="cart-drawer",E=()=>{let e=document.querySelector(v);e&&(e.update?.(),e.purchaseHandler?.(),e.open?.())};var S="package-calculator",f=class extends HTMLElement{connectedCallback(){super.connectedCallback?.(),d(this,[{type:"input",handler:this.#e.bind(this)}]),d(this.querySelector("form"),[{type:"submit",handler:this.#t.bind(this)}])}#e(t){t.preventDefault(),this.setAttribute("aria-expanded","true");let r=t.target.valueAsNumber;if(!this.#s(r)){this.#n(1);return}let a=this.#r(r);this.#a(a)}async#t(t){t.preventDefault(),p(this);let r=h(this.querySelector('input[name="square_meters"]'),["parse_int"]),a=n(this,"productId"),s=n(this.querySelector('input[name="quantity"]'),"value",["parse_int"]);if(!r){c(this,"missing-fields","Surface area is required.",{squareMeters:r});return}if(!a){c(this,"generic","Product ID not found.");return}if(!s){c(this,"missing-fields","Quantity is required.",{quantity:s});return}l(this),await g(a,s),l(this,!1),E()}#r(t){return y(t,n(this,"cutoffPercentage",["parse_float"]))}#a(t){let r=n(this,"squareMetersPerPackage",["parse_float"]),a=n(this,"productPrice",["parse_float"]),s=b(t,r),o=i(s*a,[this.#o()]);u("selected-packs",s),u("entered-surface-area",t),u("totals",o),u("quantity",s)}#s(t){return!(!t||isNaN(t)||t<1)}#n(){this.setAttribute("aria-expanded","false")}#o(){return n(this,"showCurrency",["parse_boolean"])?"to_currency":"to_currency_unsigned"}};customElements.get(S)||customElements.define(S,f);})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvaGVybW9zYS1mbG9vcnMtdGhlbWUtYmxvY2tzL3V0aWxzL2Vycm9ycy5tanMiLCAiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvaGVybW9zYS1mbG9vcnMtdGhlbWUtYmxvY2tzL3V0aWxzL3RyYW5zZm9ybWVycy5tanMiLCAiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvaGVybW9zYS1mbG9vcnMtdGhlbWUtYmxvY2tzL3V0aWxzL2h0bWwubWpzIiwgIi4uLy4uLy4uL3Jlc291cmNlcy9leHRlbnNpb25zL2hlcm1vc2EtZmxvb3JzLXRoZW1lLWJsb2Nrcy91dGlscy9tYXRocy5tanMiLCAiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvaGVybW9zYS1mbG9vcnMtdGhlbWUtYmxvY2tzL3V0aWxzL3Nob3BpZnkubWpzIiwgIi4uLy4uLy4uL3Jlc291cmNlcy9leHRlbnNpb25zL2hlcm1vc2EtZmxvb3JzLXRoZW1lLWJsb2Nrcy91dGlscy90aGVtZS5tanMiLCAiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvaGVybW9zYS1mbG9vcnMtdGhlbWUtYmxvY2tzL3BhY2thZ2UtY2FsY3VsYXRvci5tanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCBjb25zdCBzaG93RXJyb3IgPSAoXG4gIHRhcmdldEVsZW1lbnQsXG4gIG1lc3NhZ2VUeXBlID0gXCJnZW5lcmljXCIsXG4gIGludGVybmFsRXJyb3IgPSB1bmRlZmluZWQsXG4gIC4uLmVycm9yQXJnc1xuKSA9PiB7XG4gIGNvbnN0IGVycm9yVGVtcGxhdGVzID0gdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZXJyb3JzXVwiKTtcbiAgbGV0IGVycm9yVGVtcGxhdGUgPSBlcnJvclRlbXBsYXRlcy5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgYFtkYXRhLWVycm9yPVwiJHttZXNzYWdlVHlwZX1cIl1gXG4gICk7XG5cbiAgaWYgKCFlcnJvclRlbXBsYXRlKSB7XG4gICAgZXJyb3JUZW1wbGF0ZSA9IGVycm9yVGVtcGxhdGVzLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiW2RhdGEtZXJyb3I9J2dlbmVyaWMnXVwiXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGVycm9yVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICB0YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKGVycm9yRWxlbWVudCk7XG4gIHRhcmdldEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsIFwidHJ1ZVwiKTtcblxuICBpZiAoaW50ZXJuYWxFcnJvcikge1xuICAgIGNvbnNvbGUud2FybihpbnRlcm5hbEVycm9yLCAuLi5lcnJvckFyZ3MpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY2xlYXJFcnJvcnMgPSAodGFyZ2V0RWxlbWVudCkgPT4ge1xuICBjb25zdCBlcnJvckVsZW1lbnRzID0gdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtZXJyb3JdXCIpO1xuICBlcnJvckVsZW1lbnRzLmZvckVhY2goKGVycm9yRWxlbWVudCkgPT4ge1xuICAgIGVycm9yRWxlbWVudC5yZW1vdmUoKTtcbiAgfSk7XG4gIHRhcmdldEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsIFwiZmFsc2VcIik7XG59O1xuIiwgImNvbnN0IFRSQU5TRk9STUVSUyA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcmljZSBpbiBjZW50c1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcHJpY2UgYXMgZmxvYXQuXG4gICAqL1xuICBwYXJzZV9mbG9hdDogKHZhbHVlKSA9PiBwYXJzZUZsb2F0KHZhbHVlKSxcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHBhcnNlX2Jvb2xlYW46ICh2YWx1ZSkgPT5cbiAgICBbXCJ0cnVlXCIsIFwiMVwiLCBcIm9uXCIsIFwieWVzXCJdLmluY2x1ZGVzKHZhbHVlLnRvTG93ZXJDYXNlKCkpLFxuXG4gIHRvX2N1cnJlbmN5OiAodmFsdWUpID0+IHtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQodW5kZWZpbmVkLCB7XG4gICAgICBjdXJyZW5jeTogXCJFVVJcIixcbiAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSk7XG4gIH0sXG5cbiAgdG9fY3VycmVuY3lfdW5zaWduZWQ6ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCh1bmRlZmluZWQsIHtcbiAgICAgIGN1cnJlbmN5OiBcIkVVUlwiLFxuICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgIGN1cnJlbmN5RGlzcGxheTogXCJjb2RlXCIsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSkucmVwbGFjZShcIkVVUlwiLCBcIlwiKS50cmltKCk7XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKHZhbHVlLCB0cmFuc2Zvcm1lcnMpID0+IHtcbiAgcmV0dXJuIHRyYW5zZm9ybWVycy5yZWR1Y2UoKGFjYywgdHJhbnNmb3JtZXIpID0+IHtcbiAgICBpZiAoVFJBTlNGT1JNRVJTW3RyYW5zZm9ybWVyXSkge1xuICAgICAgcmV0dXJuIFRSQU5TRk9STUVSU1t0cmFuc2Zvcm1lcl0oYWNjKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgdmFsdWUpO1xufTtcbiIsICJpbXBvcnQgeyB0cmFuc2Zvcm0gfSBmcm9tIFwiLi90cmFuc2Zvcm1lcnMubWpzXCI7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVIdG1sVGFyZ2V0ID0gKHRhcmdldCwgdmFsdWUpID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXZhbHVlLXRhcmdldD1cIiR7dGFyZ2V0fVwiXWApO1xuICBpZiAoIWVsZW1lbnQpIHJldHVybjtcblxuICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlLXRhcmdldC1hdHRyaWJ1dGVcIikpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdmFsdWUtdGFyZ2V0LWF0dHJpYnV0ZVwiKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRBdHRyaWJ1dGUgPSAoZWxlbWVudCwgbmFtZSwgdHJhbnNmb3JtZXJzID0gW10pID0+IHtcbiAgbGV0IHZhbHVlID0gXCJcIjtcblxuICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUobmFtZSkpIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gIGlmIChlbGVtZW50LmRhdGFzZXRbbmFtZV0pIHZhbHVlID0gZWxlbWVudC5kYXRhc2V0W25hbWVdO1xuXG4gIHJldHVybiB0cmFuc2Zvcm0odmFsdWUsIHRyYW5zZm9ybWVycyk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RWxlbWVudFZhbHVlID0gKGVsZW1lbnQsIHRyYW5zZm9ybWVycyA9IFtdKSA9PiB7XG4gIGxldCB2YWx1ZSA9IFwiXCI7XG5cbiAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgdmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zZm9ybSh2YWx1ZSwgdHJhbnNmb3JtZXJzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBiaW5kRXZlbnRMaXN0ZW5lcnMgPSAoZWxlbWVudCwgZXZlbnRzKSA9PiB7XG4gIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudC50eXBlLCBldmVudC5oYW5kbGVyKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0RWxlbWVudExvYWRpbmcgPSAoZWxlbWVudCwgaXNMb2FkaW5nID0gdHJ1ZSkgPT4ge1xuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJsb2FkaW5nXCIpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1idXN5XCIsIFwidHJ1ZVwiKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImxvYWRpbmdcIik7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWJ1c3lcIiwgXCJmYWxzZVwiKTtcbiAgfVxufTtcbiIsICJleHBvcnQgY29uc3QgYWRkUGVyY2VudGFnZUNlaWxlZCA9ICh2YWx1ZSwgcGVyY2VudGFnZSkgPT5cbiAgTWF0aC5jZWlsKHZhbHVlICogKDEgKyBwZXJjZW50YWdlIC8gMTAwKSk7XG5cbmV4cG9ydCBjb25zdCBkaXZpZGVDZWlsZWQgPSAodmFsdWUsIGRpdmlzb3IpID0+IE1hdGguY2VpbCh2YWx1ZSAvIGRpdmlzb3IpO1xuIiwgImV4cG9ydCBjb25zdCBhZGRUb0NhcnQgPSBhc3luYyAodmFyaWFudElkLCBxdWFudGl0eSkgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHdpbmRvdy5TaG9waWZ5LnJvdXRlcy5yb290ICsgXCJjYXJ0L2FkZC5qc1wiLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogdmFyaWFudElkLFxuICAgICAgICAgIHF1YW50aXR5LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KSxcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbn07XG4iLCAiY29uc3QgY2FydERyYXdlclNlbGVjdG9yID0gXCJjYXJ0LWRyYXdlclwiO1xuXG5leHBvcnQgY29uc3Qgb3BlbkNhcnREcmF3ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGNhcnREcmF3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcnREcmF3ZXJTZWxlY3Rvcik7XG4gIGlmIChjYXJ0RHJhd2VyKSB7XG4gICAgY2FydERyYXdlci51cGRhdGU/LigpO1xuICAgIGNhcnREcmF3ZXIucHVyY2hhc2VIYW5kbGVyPy4oKTtcbiAgICBjYXJ0RHJhd2VyLm9wZW4/LigpO1xuICB9XG59O1xuIiwgImltcG9ydCB7IGNsZWFyRXJyb3JzLCBzaG93RXJyb3IgfSBmcm9tIFwiLi91dGlscy9lcnJvcnMubWpzXCI7XG5pbXBvcnQge1xuICBiaW5kRXZlbnRMaXN0ZW5lcnMsXG4gIGdldEVsZW1lbnRBdHRyaWJ1dGUsXG4gIGdldEVsZW1lbnRWYWx1ZSxcbiAgc2V0RWxlbWVudExvYWRpbmcsXG4gIHVwZGF0ZUh0bWxUYXJnZXQsXG59IGZyb20gXCIuL3V0aWxzL2h0bWwubWpzXCI7XG5pbXBvcnQgeyBhZGRQZXJjZW50YWdlQ2VpbGVkLCBkaXZpZGVDZWlsZWQgfSBmcm9tIFwiLi91dGlscy9tYXRocy5tanNcIjtcbmltcG9ydCB7IGFkZFRvQ2FydCB9IGZyb20gXCIuL3V0aWxzL3Nob3BpZnkubWpzXCI7XG5pbXBvcnQgeyBvcGVuQ2FydERyYXdlciB9IGZyb20gXCIuL3V0aWxzL3RoZW1lLm1qc1wiO1xuaW1wb3J0IHsgdHJhbnNmb3JtIH0gZnJvbSBcIi4vdXRpbHMvdHJhbnNmb3JtZXJzLm1qc1wiO1xuXG5jb25zdCBwYWNrYWdlQ2FsY3VsYXRvclNlbGVjdG9yID0gXCJwYWNrYWdlLWNhbGN1bGF0b3JcIjtcblxuY2xhc3MgUGFja2FnZUNhbGN1bGF0b3IgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrPy4oKTtcblxuICAgIGJpbmRFdmVudExpc3RlbmVycyh0aGlzLCBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiaW5wdXRcIixcbiAgICAgICAgaGFuZGxlcjogdGhpcy4jaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyksXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgYmluZEV2ZW50TGlzdGVuZXJzKHRoaXMucXVlcnlTZWxlY3RvcihcImZvcm1cIiksIFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJzdWJtaXRcIixcbiAgICAgICAgaGFuZGxlcjogdGhpcy4jaGFuZGxlU3VibWl0LmJpbmQodGhpcyksXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SW5wdXRFdmVudH0gZXZlbnRcbiAgICovXG4gICNoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XG5cbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZUFzTnVtYmVyO1xuXG4gICAgaWYgKCF0aGlzLiNpc1ZhbGlkRXZlbnRWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMuI3Jlc2V0KDEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNxdWFyZU1ldGVycyA9IHRoaXMuI2NhbGN1bGF0ZVN1cmZhY2VXaXRoQ3V0b2ZmKHZhbHVlKTtcblxuICAgIHRoaXMuI3VwZGF0ZVZhbHVlcyhzcXVhcmVNZXRlcnMpO1xuICB9XG5cbiAgYXN5bmMgI2hhbmRsZVN1Ym1pdChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY2xlYXJFcnJvcnModGhpcyk7XG5cbiAgICBjb25zdCBzcXVhcmVNZXRlcnMgPSBnZXRFbGVtZW50VmFsdWUoXG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzcXVhcmVfbWV0ZXJzXCJdJyksXG4gICAgICBbXCJwYXJzZV9pbnRcIl1cbiAgICApO1xuICAgIGNvbnN0IHZhcmlhbnRJZCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUodGhpcywgXCJwcm9kdWN0SWRcIik7XG4gICAgY29uc3QgcXVhbnRpdHkgPSBnZXRFbGVtZW50QXR0cmlidXRlKFxuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwicXVhbnRpdHlcIl0nKSxcbiAgICAgIFwidmFsdWVcIixcbiAgICAgIFtcInBhcnNlX2ludFwiXVxuICAgICk7XG5cbiAgICAvLyBWYWxpZGF0aW9uIGZpcnN0LlxuICAgIGlmICghc3F1YXJlTWV0ZXJzKSB7XG4gICAgICBzaG93RXJyb3IodGhpcywgXCJtaXNzaW5nLWZpZWxkc1wiLCBcIlN1cmZhY2UgYXJlYSBpcyByZXF1aXJlZC5cIiwge1xuICAgICAgICBzcXVhcmVNZXRlcnMsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF2YXJpYW50SWQpIHtcbiAgICAgIHNob3dFcnJvcih0aGlzLCBcImdlbmVyaWNcIiwgXCJQcm9kdWN0IElEIG5vdCBmb3VuZC5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFxdWFudGl0eSkge1xuICAgICAgc2hvd0Vycm9yKHRoaXMsIFwibWlzc2luZy1maWVsZHNcIiwgXCJRdWFudGl0eSBpcyByZXF1aXJlZC5cIiwgeyBxdWFudGl0eSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBZGQgdG8gY2FydCBsb2dpYy5cblxuICAgIHNldEVsZW1lbnRMb2FkaW5nKHRoaXMpO1xuICAgIGF3YWl0IGFkZFRvQ2FydCh2YXJpYW50SWQsIHF1YW50aXR5KTtcbiAgICBzZXRFbGVtZW50TG9hZGluZyh0aGlzLCBmYWxzZSk7XG5cbiAgICAvLyBPcGVuIHRoZSBjYXJ0IGRyYXdlci5cbiAgICBvcGVuQ2FydERyYXdlcigpO1xuICB9XG5cbiAgI2NhbGN1bGF0ZVN1cmZhY2VXaXRoQ3V0b2ZmKHNxdWFyZU1ldGVycykge1xuICAgIHJldHVybiBhZGRQZXJjZW50YWdlQ2VpbGVkKFxuICAgICAgc3F1YXJlTWV0ZXJzLFxuICAgICAgZ2V0RWxlbWVudEF0dHJpYnV0ZSh0aGlzLCBcImN1dG9mZlBlcmNlbnRhZ2VcIiwgW1wicGFyc2VfZmxvYXRcIl0pXG4gICAgKTtcbiAgfVxuXG4gICN1cGRhdGVWYWx1ZXMoc3F1YXJlTWV0ZXJzKSB7XG4gICAgY29uc3Qgc3F1YXJlTWV0ZXJzUGVyUGFja2FnZSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoXG4gICAgICB0aGlzLFxuICAgICAgXCJzcXVhcmVNZXRlcnNQZXJQYWNrYWdlXCIsXG4gICAgICBbXCJwYXJzZV9mbG9hdFwiXVxuICAgICk7XG4gICAgY29uc3QgcGFja2FnZVByaWNlID0gZ2V0RWxlbWVudEF0dHJpYnV0ZSh0aGlzLCBcInByb2R1Y3RQcmljZVwiLCBbXG4gICAgICBcInBhcnNlX2Zsb2F0XCIsXG4gICAgXSk7XG5cbiAgICBjb25zdCBwYWNrYWdlc05lZWRlZCA9IGRpdmlkZUNlaWxlZChzcXVhcmVNZXRlcnMsIHNxdWFyZU1ldGVyc1BlclBhY2thZ2UpO1xuICAgIGNvbnN0IHRvdGFsUHJpY2UgPSB0cmFuc2Zvcm0ocGFja2FnZXNOZWVkZWQgKiBwYWNrYWdlUHJpY2UsIFtcbiAgICAgIHRoaXMuI2dldEN1cnJlbmN5VHJhbnNmb3JtZXIoKSxcbiAgICBdKTtcblxuICAgIHVwZGF0ZUh0bWxUYXJnZXQoXCJzZWxlY3RlZC1wYWNrc1wiLCBwYWNrYWdlc05lZWRlZCk7XG4gICAgdXBkYXRlSHRtbFRhcmdldChcImVudGVyZWQtc3VyZmFjZS1hcmVhXCIsIHNxdWFyZU1ldGVycyk7XG4gICAgdXBkYXRlSHRtbFRhcmdldChcInRvdGFsc1wiLCB0b3RhbFByaWNlKTtcbiAgICB1cGRhdGVIdG1sVGFyZ2V0KFwicXVhbnRpdHlcIiwgcGFja2FnZXNOZWVkZWQpO1xuICB9XG5cbiAgI2lzVmFsaWRFdmVudFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChpc05hTih2YWx1ZSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodmFsdWUgPCAxKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gICNyZXNldCgpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgfVxuXG4gICNnZXRDdXJyZW5jeVRyYW5zZm9ybWVyKCkge1xuICAgIGlmIChnZXRFbGVtZW50QXR0cmlidXRlKHRoaXMsIFwic2hvd0N1cnJlbmN5XCIsIFtcInBhcnNlX2Jvb2xlYW5cIl0pKSB7XG4gICAgICByZXR1cm4gXCJ0b19jdXJyZW5jeVwiO1xuICAgIH1cblxuICAgIHJldHVybiBcInRvX2N1cnJlbmN5X3Vuc2lnbmVkXCI7XG4gIH1cbn1cblxuLy8gRGVmaW5lIHRoZSBjdXN0b20gZWxlbWVudC5cbmlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHBhY2thZ2VDYWxjdWxhdG9yU2VsZWN0b3IpKVxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUocGFja2FnZUNhbGN1bGF0b3JTZWxlY3RvciwgUGFja2FnZUNhbGN1bGF0b3IpO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BQU8sSUFBTUEsRUFBWSxDQUN2QkMsRUFDQUMsRUFBYyxVQUNkQyxFQUFnQixVQUNiQyxJQUNBLENB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USxFQUdkLENBRUFFLElBQVMsQ0FDUCxLQUFLLGFBQWEsZ0JBQWlCLE9BQU8sQ0FDNUMsQ0FFQW9CLElBQTBCLENBQ3hCLE9BQUliLEVBQW9CLEtBQU0sZUFBZ0IsQ0FBQyxlQUFlLENBQUMsRUFDdEQsY0FHRixzQkFDVCxDQUNGLEVBR0ssZUFBZSxJQUFJZixDQUF5QixHQUMvQyxlQUFlLE9BQU9BLEVBQTJCQyxDQUFpQiIsCiAgIm5hbWVzIjogWyJzaG93RXJyb3IiLCAidGFyZ2V0RWxlbWVudCIsICJtZXNzYWdlVHlwZSIsICJpbnRlcm5hbEVycm9yIiwgImVycm9yQXJncyIsICJlcnJvclRlbXBsYXRlcyIsICJlcnJvclRlbXBsYXRlIiwgImVycm9yRWxlbWVudCIsICJjbGVhckVycm9ycyIsICJUUkFOU0ZPUk1FUlMiLCAidmFsdWUiLCAidHJhbnNmb3JtIiwgInRyYW5zZm9ybWVycyIsICJhY2MiLCAidHJhbnNmb3JtZXIiLCAidXBkYXRlSHRtbFRhcmdldCIsICJ0YXJnZXQiLCAidmFsdWUiLCAiZWxlbWVudCIsICJhdHRyaWJ1dGUiLCAiZ2V0RWxlbWVudEF0dHJpYnV0ZSIsICJuYW1lIiwgInRyYW5zZm9ybWVycyIsICJ0cmFuc2Zvcm0iLCAiZ2V0RWxlbWVudFZhbHVlIiwgImJpbmRFdmVudExpc3RlbmVycyIsICJldmVudHMiLCAiZXZlbnQiLCAic2V0RWxlbWVudExvYWRpbmciLCAiaXNMb2FkaW5nIiwgImFkZFBlcmNlbnRhZ2VDZWlsZWQiLCAidmFsdWUiLCAicGVyY2VudGFnZSIsICJkaXZpZGVDZWlsZWQiLCAiZGl2aXNvciIsICJhZGRUb0NhcnQiLCAidmFyaWFudElkIiwgInF1YW50aXR5IiwgImNhcnREcmF3ZXJTZWxlY3RvciIsICJvcGVuQ2FydERyYXdlciIsICJjYXJ0RHJhd2VyIiwgInBhY2thZ2VDYWxjdWxhdG9yU2VsZWN0b3IiLCAiUGFja2FnZUNhbGN1bGF0b3IiLCAiYmluZEV2ZW50TGlzdGVuZXJzIiwgIiNoYW5kbGVDaGFuZ2UiLCAiI2hhbmRsZVN1Ym1pdCIsICJldmVudCIsICJ2YWx1ZSIsICIjaXNWYWxpZEV2ZW50VmFsdWUiLCAiI3Jlc2V0IiwgInNxdWFyZU1ldGVycyIsICIjY2FsY3VsYXRlU3VyZmFjZVdpdGhDdXRvZmYiLCAiI3VwZGF0ZVZhbHVlcyIsICJjbGVhckVycm9ycyIsICJnZXRFbGVtZW50VmFsdWUiLCAidmFyaWFudElkIiwgImdldEVsZW1lbnRBdHRyaWJ1dGUiLCAicXVhbnRpdHkiLCAic2hvd0Vycm9yIiwgInNldEVsZW1lbnRMb2FkaW5nIiwgImFkZFRvQ2FydCIsICJvcGVuQ2FydERyYXdlciIsICJhZGRQZXJjZW50YWdlQ2VpbGVkIiwgInNxdWFyZU1ldGVyc1BlclBhY2thZ2UiLCAicGFja2FnZVByaWNlIiwgInBhY2thZ2VzTmVlZGVkIiwgImRpdmlkZUNlaWxlZCIsICJ0b3RhbFByaWNlIiwgInRyYW5zZm9ybSIsICIjZ2V0Q3VycmVuY3lUcmFuc2Zvcm1lciIsICJ1cGRhdGVIdG1sVGFyZ2V0Il0KfQo=
